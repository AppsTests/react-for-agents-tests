#!/bin/bash

# –ë—ã—Å—Ç—Ä—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é

echo "üîó –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é"
echo "=============================================="

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –º—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
if [ ! -f "package.json" ]; then
    echo "‚ùå –û—à–∏–±–∫–∞: package.json –Ω–µ –Ω–∞–π–¥–µ–Ω. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞."
    exit 1
fi

echo "‚úÖ –ù–∞—Ö–æ–¥–∏–º—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞"

# –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
echo ""
echo "üìù –í–≤–µ–¥–∏—Ç–µ URL –≤–∞—à–µ–≥–æ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:"
echo "   –ü—Ä–∏–º–µ—Ä: https://github.com/username/repository-name.git"
echo "   –∏–ª–∏: git@github.com:username/repository-name.git"
echo ""

read -p "URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è: " REPO_URL

if [ -z "$REPO_URL" ]; then
    echo "‚ùå URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º."
    exit 1
fi

echo ""
echo "üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è..."

# –£–¥–∞–ª—è–µ–º —Ç–µ–∫—É—â–∏–π remote origin
echo "   –£–¥–∞–ª—è–µ–º —Ç–µ–∫—É—â–∏–π remote origin..."
git remote remove origin 2>/dev/null || echo "   Remote origin –Ω–µ –Ω–∞–π–¥–µ–Ω (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ)"

# –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π remote
echo "   –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π remote: $REPO_URL"
git remote add origin "$REPO_URL"

# –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ–º –≤–µ—Ç–∫—É –≤ main
echo "   –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ–º –≤–µ—Ç–∫—É –≤ main..."
git branch -M main

echo ""
echo "üì§ –í—ã–≥—Ä—É–∑–∫–∞ –∫–æ–¥–∞ –Ω–∞ GitHub..."

# –í—ã–≥—Ä—É–∂–∞–µ–º –∫–æ–¥
git push -u origin main

if [ $? -eq 0 ]; then
    echo ""
    echo "‚úÖ –ö–æ–¥ —É—Å–ø–µ—à–Ω–æ –≤—ã–≥—Ä—É–∂–µ–Ω –Ω–∞ GitHub!"
    echo "üîó –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: $REPO_URL"
    echo ""
    echo "üéâ –ì–æ—Ç–æ–≤–æ! –í–∞—à –ø—Ä–æ–µ–∫—Ç —Å GPT —á–∞—Ç–æ–º —Ç–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ GitHub."
else
    echo ""
    echo "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–≥—Ä—É–∑–∫–µ –∫–æ–¥–∞."
    echo "   –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:"
    echo "   - –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è"
    echo "   - –ß—Ç–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–∞ GitHub"
    echo "   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ Git"
    echo "   - –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é"
fi

echo ""
echo "üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:"
echo "   - README: GPT_CHAT_README.md"
echo "   - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é: DEPLOYMENT_GUIDE.md"
echo "   - –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π: CHANGES_SUMMARY.md"
